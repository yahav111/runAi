# RunIsrael AI - UX + LLM Review

## מצב נוכחי (מה כבר עובד טוב)

- חוויית פתיחה טובה: מסך welcome ברור + בחירת mode מהירה.
- UX שיחתי טוב: המשתמש יכול לכתוב חופשי, וגם לקבל quick-replies (chips) לפי השלב בשיחה.
- זיהוי intents שימושי: יש הפרדה ל-`point-to-point`, `loop`, ו-`survey`.
- יש הקשחה טכנית חשובה ל-LLM: דרישה ל-`<route_data>` עם schema קבוע כדי לאפשר רינדור כרטיסים.
- קיימים fallback-ים טובים במקרה שהמודל "מפספס" פורמט (emoji/prose parsing).
- כרטיסי מסלול עשירים ומעוצבים טוב (ניווט, highlights, שיתוף, מרחק, נק' התחלה/סיום).

## פערי UX עיקריים שכדאי לטפל בהם

1. אין memory/session אמיתי בין שיחות (אין "אני זוכר אותך" מעבר לפרופיל בסיסי).
2. אין הסבר שקיפות למשתמש למה התקבלה המלצה מסוימת ("למה המסלול הזה?").
3. חסר confidence signal: המשתמש לא יודע עד כמה ההמלצה אמינה/מאומתת.
4. חסר תיקון מהיר אחרי תשובת מודל ("קצר מדי", "יותר צל", "בלי עליות") בלחיצה אחת.
5. אין post-recommendation flow ברור (שמירה, השוואה, בחירה, refinement מיידי).
6. אין תחקור structured לטעויות LLM (hallucinations/פורמט/אי התאמה לרצון משתמש).

## פיצ'רים מומלצים — כיוונים אחרים (לא צ'יפים/בדג'ים)

רעיונות שמשנים **איך** משתמשים באפליקציה, לא רק משפרים את מה שיש.

---

### 🎯 "רוץ עכשיו" — Zero Friction

**כפתור אחד: "הכי מתאים לי עכשיו"**  
האפליקציה לוקחת: מיקום נוכחי (או עיר מהפרופיל), שעה, מזג אוויר (אם יש API).  
מחזירה **מסלול אחד** מומלץ עם משפט אחד: "עכשיו מושלם — 5 ק"מ שטוחים, מואר, עם ברזיות."  
בלי סקר, בלי לבחור mode. מי שרוצה פרטים יכול להמשיך בצ'אט.

**ערך:** מי שרץ באופן קבוע מקבל החלטה מיידית. ה-LLM עובד מאחורי הקלעים עם context מלא.

---

### 🗣️ קלט קולי

**"תגיד בקול: מאיפה לאן"**  
המשתמש לוחץ מיקרופון ומדבר: "מהנמל בתל אביב עד גן צ'ארלס קלור" או "5 קילומטר לופ סביב גן סאקר."  
Speech-to-text נשלח ל-LLM כמו הודעה רגילה. אופציונלי: תשובת שמע קצרה ("המסלול המומלץ: טיילת הנמל עד צ'ארלס קלור, 6 ק״מ").

**ערך:** נוח במיוחד לפני ריצה (ידיים Occupied) ומבדל מול אפליקציות שדורשות רק טקסט.

---

### 📍 "אני פה" — התחל מהמיקום

**ללא הקלדת כתובת:**  
כפתור "הציע מסלולים מהמיקום שלי".  
Geolocation → שליחה ל-LLM כ־context: "המשתמש נמצא ב-[כתובת/קואורדינטות]. הצע 2–3 מסלולים (לופ או point-to-point) שמתחילים קרוב לכאן."

**ערך:** חוויית "אני עומד ומוכן — תגיד לי לאן לרוץ" בלי להקליד רחוב או ציון דרך.

---

### 📖 מסלול כסיפור (Running Story)

במקום רק תיאור יבש: **"בק"מ 1 תעבור ליד X, בק"מ 2 תראה Y, אחרי הגשר יש ברזייה."**  
ה-LLM מייצר טקסט narrative קצר לכל מסלול — כמו אודיו-טור לרץ.  
אפשר להציג כטקסט מתגלגל בכרטיס או (בהמשך) כהשמעה.

**ערך:** הופך את המסלול לזכיר ומובן; טוב גם למי שמכיר פחות את האזור.

---

### 🌤️ "ריצה מושלמת היום"

**דף/טאב נפרד או כניסה ראשית:**  
"מה הריצה הכי טובה **היום**?"  
קלט: עיר (או מיקום), אולי רמת קושי.  
המערכת מחשבת: שעה נוכחית, עונה, (אם יש) מזג אוויר — ומחזירה מסלול אחד עם הסבר: "עכשיו עד 10:00 — עדיין קריר, צל בפארק. אחרי זה חם, עדיף חוף."

**ערך:** ממקד את המשתמש ב"עכשיו" ולא ב"מתי שבא לי"; ה-LLM עושה את האופטימיזציה.

---

### 🧩 שאלה אחת חכמה (במקום סקר)

**במקום 5 שאלות:**  
"מה הכי חשוב לך הפעם? **מרחק / נוף / קושי**" (או וריאציה).  
לפי התשובה — ה-LLM שואל follow-up אחד ממוקד (למשל "איזה מרחק?") ואז עובר להמלצות.  
פחות הודעות, פחות עייפות החלטה.

**ערך:** חוויית שיחה קלה יותר; ה-LLM צריך לפרש intent מראשון ולהוביל מהר להצעה.

---

### 🔀 "מסלול דומה" / "הפתעה"

**על כרטיס מסלול:**  
- **"מסלול דומה"** — אותו אזור/אורך, תוואי אחר. ה-LLM מקבל את המסלול הנוכחי ומחזיר חלופה.  
- **"הפתעה לי"** — "תן לי מסלול אחד אקראי שמתאים ל־5–8 ק"מ בתל אביב."  
מתאים למי שמשעמם לו מאותו מסלול.

**ערך:** שימוש חוזר בהמלצות בלי להתחיל שיחה מאפס.

---

### 📅 "תכנן לי שבוע"

**פרומט אחד:** "תכנן לי 3 ריצות השבוע — תל אביב, מגוון."  
ה-LLM מחזיר 3 מסלולים שונים (קצר/בינוני/ארוך או גיוון נוף/קושי) עם יום מומלץ וטיפ: "יום א' — ארוך ליד הים; יום ג' — קצר בפארק."  
לא מחייב אינטגרציה ללוח שנה — מספיק תצוגה ברורה באפליקציה.

**ערך:** עוזר לרצים שמתכננים שבוע; ה-LLM עושה curation במקום המשתמש.

---

### 🎧 מוד "לפני הריצה" (Quick Brief)

**לחיצה לפני יציאה:** "תן לי תזכורת למסלול" (למסלול שנבחר).  
ה-LLM מחזיר 3–4 משפטים: התחלה, סיום, נקודות מפתח, ברזייה/שירותים, טיפ אחד.  
מיועד להצגה מהירה או (בעתיד) להקראה.

**ערך:** מפחית חרדה "שכחתי איפה פונים"; מתאים למובייל לפני שמתחילים לרוץ.

---

### סיכום כיוונים

| כיוון | עיקרון |
|--------|--------|
| "רוץ עכשיו" | החלטה אחת, בלי סקר |
| קלט קולי | אינטראקציה בלי מקלדת |
| "אני פה" | מיקום כנקודת התחלה |
| Running Story | מסלול כ-narrative |
| "ריצה מושלמת היום" | אופטימיזציה לפי זמן ומזג אוויר |
| שאלה אחת חכמה | סקר מקוצר, LLM מוביל |
| "מסלול דומה" / "הפתעה" | חידוש בלי שיחה חדשה |
| "תכנן לי שבוע" | תכנון שבועי במקום ריצה בודדת |
| Quick Brief | תזכורת קצרה לפני ריצה |

## שיפורי Prompting מומלצים

- לחזק כלל "conversation progress": כל תשובה בסקר חייבת לכלול שאלה אחת הבאה + recap קצר של מה שכבר נבחר.
- להוסיף כלל anti-repetition קשיח (אם נשאלה קטגוריה שכבר נענתה, אסור לשאול שוב).
- להחזיר structured metadata קצר לצד `<route_data>` עבור UX:  
  `confidence`, `reasoning_summary`, `safety_notes`.
- להגדיר fallback prompt נפרד למצב parse-failure במקום רק parser fallback בצד לקוח.

## מדדים שכדאי למדוד (כדי לדעת אם באמת שיפרנו UX)

1. זמן עד "מסלול ראשון שנבחר" (TTFR - Time To First Route Selection).
2. מספר הודעות עד שהמשתמש לוחץ על ניווט.
3. אחוז שיחות עם לפחות refine אחד ("יותר קצר", "יותר מוצל"...).
4. שיעור thumbs down לתשובות המודל.
5. שיעור נטישה לפני קבלת route_data תקין.
6. Conversion ל-share/save route.

## איפה להתחיל (בחירה לפי מאמץ/ערך)

- **מאמץ נמוך, הבדל מידי:** "רוץ עכשיו" (כפתור אחד + פרומט חכם עם context שעה/עיר).  
- **חוויית מובייל:** "אני פה" (geolocation + פרומט שמתחיל מהמיקום).  
- **הפחתת עומס שיחה:** "שאלה אחת חכמה" (מרחק/נוף/קושי → follow-up אחד → המלצות).  
- **זכירות ו-Wow:** Running Story (ה-LLM כותב narrative קצר לכל מסלול).  
- **תכנון:** "תכנן לי שבוע" או "מסלול דומה" / "הפתעה לי" על כרטיס קיים.

## סיכום

הבסיס הקיים חזק: שיחה, intent, כרטיסים, fallback.  
הכיוונים החדשים כאן **משנים את נקודת הכניסה**: פחות "עוד צ'יפים ועוד badges", יותר **כפתור אחד**, **קול**, **מיקום**, **סיפור**, **תכנון שבועי** ו-**תזכורת לפני ריצה**.  
כדאי לבחור 1–2 כיוונים שמתאימים לקהל היעד ולמשאבים, ולהוסיף אותם כ־first-class flows (לא רק תוספת לשיחה הקיימת).
